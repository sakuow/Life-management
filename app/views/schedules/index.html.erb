<div class="schedule_index">
  <p id="notice"><%= notice %></p>

  <h1>予定表カレンダー</h1>

  <table class="table">
    <thead>
      <tr>
        <th>予定名</th>
        <th>開始時刻</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @schedules.each do |schedule| %>
      <tr>
        <td><%= schedule.name %></td>
        <td><%= schedule.start_time.strftime('%d日 %H:%M') %></td>
        <td><%= link_to "予定詳細", schedule_path(schedule) %></td>
        <td><%= link_to "予定内容編集", edit_schedule_path(schedule) %></td>
        <td><%= link_to "予定削除", schedule_path(schedule), method: :delete, data: { confirm: "予定を削除しても問題ありませんか？" } %></td>
      </tr>
      <% end %>
    </tbody>
  </table>

  <br>

  <%= link_to "予定の新規作成", new_schedule_path %>
  <%= month_calendar events: @schedules do |date, schedules| %>
    <%= date %>

    <% schedules.each do |schedule| %>
      <div>
        ・<%= schedule.name %>
        <%= schedule.start_time.strftime('%H:%M') %> 開始
      </div>
    <% end %>
  <% end %>
</div>